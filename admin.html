<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
    <title>Admin Dashboard</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' https://www.gstatic.com 'unsafe-eval' 'unsafe-inline';">
</head>
<body onload="renderAdminDashboard()">
    <header>
        <h1>Admin Panel</h1>
        <nav class="nav-links">
            <button class="btn btn-primary" onclick="openModal()">+ Add New Food</button>
            <a href="#" onclick="logout()">Logout</a>
        </nav>
    </header>

    <section style="margin-top: 30px; background: white; padding: 20px; border-radius: 10px; box-shadow: var(--shadow); max-width: 1100px; margin-left: auto; margin-right: auto;">
        <h3>Payment Settings</h3>
        <div style="margin-top: 10px; display: flex; flex-direction: column; gap: 10px;">
            <label>Merchant UPI ID (e.g., name@okaxis):</label>
            <input type="text" id="merchant-upi" placeholder="Enter UPI ID" style="padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
            <button class="btn btn-primary" id="upload-btn" onclick="saveAdminSettings()">Update UPI ID</button>
        </div>
    </section>

    <div class="container">
        <section style="margin-bottom: 50px;">
            <h3>Menu Management</h3>
            <table id="admin-menu-table">
                <thead>
                    <tr>
                        <th>Item Name</th>
                        <th>Price (₹)</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <section>
            <h3>Customer Orders</h3>
            <table id="admin-orders-table">
                <thead>
                    <tr>
                        <th>Order ID</th>
                        <th>Customer</th>
                        <th>Items</th>
                        <th>Total</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>
    </div>

    <div id="item-modal" class="modal">
        <div class="modal-content">
            <h2 style="margin-bottom:20px;">Add Food Item</h2>
            <input type="text" id="food-name" placeholder="Food Name" style="width:100%; padding:10px; margin-bottom:10px; border:1px solid #ddd; border-radius:5px;">
            <input type="number" id="food-price" placeholder="Price (₹)" style="width:100%; padding:10px; margin-bottom:10px; border:1px solid #ddd; border-radius:5px;">
            <input type="text" id="food-img" placeholder="Image URL (Unsplash link)" style="width:100%; padding:10px; margin-bottom:20px; border:1px solid #ddd; border-radius:5px;">
            
            <div style="display:flex; gap:10px;">
                <button class="btn btn-primary" style="flex:1" onclick="saveItem()">Save to Cloud</button>
                <button class="btn" style="flex:1; background:#ccc;" onclick="closeModal()">Cancel</button>
            </div>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>